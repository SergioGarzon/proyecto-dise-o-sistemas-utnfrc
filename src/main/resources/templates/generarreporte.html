<!DOCTYPE html>

<html xmlns:th="https://www.thymeleaf.org/">
	
	<head>
		<title>Proyecto de diseno de sistemas</title>
		<meta charset="UTF-8">
		
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
		
		<style>
			.contenedor-extra {
				background-color: darkblue;
			}
			
			.titlepage {
				text-align: center;
				font-size: 60px;
			}
		</style>	
	</head>
	
	<body>		
		
		<div class="container-fluid contenedor-extra p-5 .bg-primary text-white text-center">
		  <span class="titlepage">GENERACION DE REPORTES DE RANKING DE VINOS</span>
		</div>
			
		<br />
		
		<div class="container-fluid">
			<form th:action="@{/proyecto}" method="post">
				<div class="alert alert-primary" role="alert">
					<input type="submit" class="btn btn-danger" value="Salir del sistema" />
				</div>						
			</form>
		</div>
		

		<br />	
		
		<div class="container-fluid">			
			<form th:action="@{/GenerarReporte}" method="post">		
				<div class="container">
					
					<table class="table">
						<thead>
							<tr>
								<th><h2>Ingrese los filtros de busqueda:</h2></th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td><label class="form-label text-end">Ingresar la fecha desde:</label></td>
								<td><input type="date" id="fechaDesde" name="fechaDesde" required></td>
								<td><label class="form-label text-end">Ingresar la fecha hasta</label></td>
								<td><input type="date" id="fechaHasta" name="fechaHasta" required></td>
								<td th:if="${enabled == '1'}"><input type="submit" class="btn btn-primary" value="Filtrar" /></td>
							</tr>
						</tbody>
						
					</table>
					
					<div th:if="${error}" class="alert alert-danger" role="alert">
					    <span th:text="${error}"></span>
					</div>
				</div>
			</form>
		</div>		
		
		
		<div class="container" th:if="${enabled == '2' OR enabled == '3' OR enabled == '4'}">
			<form th:action="@{/TomarSeleccionTipoResena}" method="post">	
				<div class="container">
				<table class="table">
					<tr>
						<td><label class="form-label text-end">Selecciona el tipo de rese&ntilde;a:</label></td>
						<td>
							<select name="resenas" id="resenas">
								<option value="normales" title="Utiliza todas las reseñas de los vinos que cumplen con los filtros para	generar el ranking. Se utiliza la calificación estándar para realizar el ranking." 
									data-toggle="tooltip">Rese&ntilde;as normales</option>
								<option value="sommelier" title="Utiliza solo las reseñas de Sommeliers registrados de los vinos que cumplen con los filtros del ranking. Es decir que debe buscar solo las reseñas de Sommeliers entre las reseñas existentes y considerar esas calificaciones para realizar el ranking." 
									data-toggle="tooltip">Rese&ntilde;as de Sommelier</option>
								<option value="amigos" title="Utiliza solo las reseñas de los amigos del usuario logueado de los vinos que cumplen los filtros. Es decir que se debe buscar solo las reseñas de los amigos de la app entre las reseñas existentes y considerar esas calificaciones para realizar el ranking." 
									data-toggle="tooltip">Rese&ntilde;as de Amigos</option>
							</select>
						</td>
						<td th:if="${enabled == '2'}"><input type="submit" class="btn btn-primary" value="Filtrar" /></td>
					</tr>
				</table>
				</div>		
				<div th:if="${error2}" class="alert alert-warning" role="alert">
					<span th:text="${error2}"></span>
				</div>
			</form>			
		</div>
		
		
		<div class="container" th:if="${enabled == '3' OR enabled == '4'}">
			<form th:action="@{/TomarSeleccionFormaVisualizacion}" method="post">	
			<div class="container">
			<table class="table">
				<tr>
					<td><label class="form-label text-end">Selecciona el tipo de visualizaci&oacute;n:</label></td>
					<td>
						<select name="tipovisualizacion" id="tipovisualizacion">
							<option value="pdf">Archivo PDF</option>
							<option value="excel">Archivo Excel</option>
							<option value="pantalla">Pantalla</option>							
						</select>
					</td>
					<td th:if="${enabled == '3'}"><input type="submit" class="btn btn-primary" value="Filtrar" /></td>
				</tr>
			</table>
			</div>	
			<div th:if="${error3}" class="alert alert-warning" role="alert">
				<span th:text="${error3}"></span>
			</div>
			</form>	
		</div>		
		
		<div class="container" th:if="${enabled == '4'}">
			<form th:action="@{/TomarConfirmacionGeneracionReporte}" method="get">	
			<div class="container">
			<table class="table">
				<tr>
					<td><label class="form-label text-end">&#191;Confirma generaci&oacute;n&#63;:</label></td>					
					<td><input type="submit" class="btn btn-success" value="Confirmar"/></td>
				</tr>
			</table>	
			</div>
			</form>	
		</div>
	</body>
	
</html>